<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Etaria.net â€“ Masterplan</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
<style>
:root{--bg:#06080a;--surface:#0a0d12;--card:#0e1117;--border:#1a1f2e;--border-h:#252d3d;--amber:#f5a623;--amber-g:linear-gradient(135deg,#f5a623,#e8720c);--red:#ef4444;--blue:#3b82f6;--green:#10b981;--purple:#a855f7;--cyan:#06b6d4;--text:#e4e8f1;--text-m:#8492a6;--text-d:#4a5568;--radius:8px}
*{margin:0;padding:0;box-sizing:border-box}body{background:var(--bg);color:var(--text);font-family:'Outfit',sans-serif;line-height:1.6}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:var(--border-h);border-radius:3px}
.lo{position:fixed;inset:0;z-index:9999;background:var(--bg);display:flex;align-items:center;justify-content:center}.lo.h{display:none}
.lo-box{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:2rem;width:320px;text-align:center}
.lo-logo{font-family:'Space Mono',monospace;font-size:1.3rem;font-weight:700;color:var(--amber);margin-bottom:1.2rem}
.lo-input{width:100%;padding:.6rem .8rem;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--text);font-size:.8rem;margin-bottom:.6rem;outline:none}.lo-input:focus{border-color:var(--amber)}
.lo-btn{width:100%;padding:.65rem;background:var(--amber-g);border:none;border-radius:6px;color:#000;font-weight:700;font-size:.8rem;cursor:pointer;margin-top:.3rem}.lo-btn:hover{opacity:.9}.lo-btn:disabled{opacity:.5}
.lo-err{color:var(--red);font-size:.65rem;margin-top:.4rem;min-height:.9rem}
.lo-guest{color:var(--text-d);font-size:.65rem;margin-top:.8rem;cursor:pointer}.lo-guest:hover{color:var(--text-m)}
.top{position:fixed;top:0;left:0;right:0;z-index:500;background:rgba(6,8,10,.92);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);height:46px;padding:0 1rem;display:flex;align-items:center;justify-content:space-between}
.top-logo{font-family:'Space Mono',monospace;font-size:.85rem;font-weight:700;color:var(--amber)}
.top-badge{font-family:'Space Mono',monospace;font-size:.48rem;padding:.12em .45em;border-radius:3px;margin-left:.4rem;border:1px solid}.top-badge.admin{color:var(--amber);border-color:rgba(245,166,35,.3);background:rgba(245,166,35,.08)}.top-badge.guest{color:var(--text-d);border-color:var(--border)}
.top-r{display:flex;align-items:center;gap:.5rem}
.top-btn{font-size:.62rem;padding:.3rem .6rem;border-radius:4px;border:1px solid var(--border);background:var(--surface);color:var(--text-m);cursor:pointer}.top-btn:hover{border-color:var(--amber);color:var(--text)}
.edit-bar{position:fixed;bottom:0;left:0;right:0;z-index:500;background:rgba(245,166,35,.08);border-top:2px solid var(--amber);padding:.45rem;display:none;justify-content:center;align-items:center;gap:.6rem}.edit-bar.show{display:flex}
.edit-bar span{font-family:'Space Mono',monospace;font-size:.62rem;color:var(--amber)}
.app{max-width:900px;margin:0 auto;padding:62px 1rem 3.5rem}
.hero{text-align:center;padding:1.2rem 0 .8rem}.hero h1{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#fff 30%,var(--amber));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.hero p{color:var(--text-d);font-size:.68rem;margin-top:.2rem}
.nav{position:sticky;top:46px;z-index:100;background:rgba(6,8,10,.95);border-bottom:1px solid var(--border);margin:0 -1rem;padding:0 1rem;display:flex;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.nav::-webkit-scrollbar{display:none}
.nav-btn{font-size:.62rem;font-weight:600;color:var(--text-d);background:none;border:none;padding:.6rem .7rem;cursor:pointer;white-space:nowrap;border-bottom:2px solid transparent;transition:.15s}.nav-btn:hover{color:var(--text-m)}.nav-btn.on{color:var(--amber);border-color:var(--amber)}
.prog{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:.7rem .9rem;margin:.8rem 0}
.prog-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:.35rem}.prog-top span{font-size:.65rem}.prog-pct{font-family:'Space Mono',monospace;color:var(--amber);font-weight:700}
.prog-bar{height:4px;background:var(--surface);border-radius:2px;overflow:hidden}.prog-fill{height:100%;background:var(--amber-g);transition:width .4s}
.prog-info{font-family:'Space Mono',monospace;font-size:.5rem;color:var(--text-d);margin-top:.25rem}
.sec{display:none;margin-top:.8rem}.sec.on{display:block}
.sec-title{font-size:.85rem;font-weight:800;margin-bottom:.5rem;display:flex;align-items:center;gap:.4rem}
.sec-desc{font-size:.68rem;color:var(--text-m);margin-bottom:.7rem;line-height:1.55}
.identity{background:linear-gradient(135deg,rgba(245,166,35,.08),rgba(232,114,12,.05));border:1px solid rgba(245,166,35,.2);border-radius:10px;padding:1rem;margin-bottom:1rem}
.identity h3{font-size:.9rem;font-weight:800;color:var(--amber);margin-bottom:.4rem}
.identity p{font-size:.7rem;color:var(--text);line-height:1.6}
.identity-subtitle{font-size:.6rem;color:var(--text-m);margin-top:.5rem;font-style:italic}
.step{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:.45rem;overflow:hidden;transition:.15s}.step:hover{border-color:var(--border-h)}.step.done{opacity:.4}.step.done .step-n{background:var(--green);color:#000}
.step-h{display:flex;align-items:center;gap:.55rem;padding:.7rem;cursor:pointer}
.step-n{width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Space Mono',monospace;font-size:.58rem;font-weight:700;flex-shrink:0}
.step-n.krit{background:var(--red);color:#fff}.step-n.hoch{background:var(--amber);color:#000}.step-n.med{background:var(--blue);color:#fff}.step-n.low{background:var(--text-d);color:#fff}
.step-info{flex:1;min-width:0}.step-t{font-size:.75rem;font-weight:700}.step-c{font-family:'Space Mono',monospace;font-size:.48rem;color:var(--text-d)}
.step-chk{width:17px;height:17px;border:2px solid var(--border-h);border-radius:3px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.48rem;flex-shrink:0;transition:.15s}.step-chk:hover{border-color:var(--amber)}.step-chk.on{background:var(--green);border-color:var(--green);color:#000}
.step-del{width:17px;height:17px;border-radius:50%;border:1px solid var(--border);background:var(--surface);color:var(--text-d);font-size:.45rem;cursor:pointer;display:none;align-items:center;justify-content:center;margin-left:.2rem;transition:.15s}.step-del:hover{border-color:var(--red);color:var(--red)}
body.edit .step-del{display:flex}
.step-arr{font-size:.48rem;color:var(--text-d);margin-left:.15rem}
.step-body{max-height:0;overflow:hidden;transition:max-height .25s}.step-body.open{max-height:1200px}
.step-content{padding:0 .7rem .7rem;border-top:1px solid var(--border)}
.step-why{background:rgba(239,68,68,.06);border:1px solid rgba(239,68,68,.12);border-radius:5px;padding:.45rem .6rem;margin:.55rem 0}
.step-why b{font-size:.52rem;color:var(--red);display:block;margin-bottom:.15rem}
.step-why p{font-size:.64rem;color:var(--text-m);line-height:1.5}
.step-todo{background:var(--surface);border-radius:5px;padding:.55rem .65rem}
.step-todo b{font-size:.52rem;color:var(--green);display:block;margin-bottom:.3rem}
.todo-i{font-size:.64rem;color:var(--text);padding:.18rem 0;display:flex;gap:.35rem;line-height:1.45}.todo-i::before{content:'â†’';color:var(--amber);font-weight:700}
.step-connect{background:rgba(59,130,246,.06);border:1px solid rgba(59,130,246,.12);border-radius:5px;padding:.45rem .6rem;margin-top:.55rem}
.step-connect b{font-size:.52rem;color:var(--blue);display:block;margin-bottom:.15rem}
.step-connect p{font-size:.64rem;color:var(--text-m);line-height:1.5}
.step-note{background:rgba(168,85,247,.06);border:1px solid rgba(168,85,247,.12);border-radius:5px;padding:.45rem .6rem;margin-top:.55rem}
.step-note b{font-size:.52rem;color:var(--purple);display:block;margin-bottom:.15rem}
.step-note p{font-size:.64rem;color:var(--text-m);line-height:1.5}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:.7rem;margin-bottom:.4rem;transition:.15s}.card:hover{border-color:var(--border-h)}
.card-h{display:flex;align-items:center;gap:.35rem;margin-bottom:.25rem}.card-h span{font-size:.95rem}.card-h h4{font-size:.72rem;font-weight:700}
.card p{font-size:.64rem;color:var(--text-m);line-height:1.5}
.card-section{margin-top:.5rem;padding-top:.5rem;border-top:1px solid var(--border)}
.card-section b{font-size:.55rem;color:var(--cyan);display:block;margin-bottom:.25rem}
.badge{font-family:'Space Mono',monospace;font-size:.44rem;padding:.08em .3em;border-radius:3px;margin-left:.2rem}
.badge.ok{background:rgba(16,185,129,.1);color:var(--green);border:1px solid rgba(16,185,129,.2)}
.badge.warn{background:rgba(245,166,35,.08);color:var(--amber);border:1px solid rgba(245,166,35,.2)}
.badge.bad{background:rgba(239,68,68,.08);color:var(--red);border:1px solid rgba(239,68,68,.2)}
.tags{display:flex;flex-wrap:wrap;gap:.2rem;margin-top:.35rem}
.tag{font-family:'Space Mono',monospace;font-size:.44rem;padding:.1em .32em;border-radius:3px;border:1px solid var(--border);color:var(--text-d)}
.tag.ok{color:var(--green);border-color:rgba(16,185,129,.25)}
.tag.bad{color:var(--red);border-color:rgba(239,68,68,.25)}
.tbl{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:.6rem}
.tbl-h{background:var(--surface);padding:.4rem .7rem;font-size:.6rem;font-weight:700;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.tbl-h span{color:var(--text-d);font-weight:400}
.tbl-r{display:flex;align-items:center;padding:.35rem .7rem;border-bottom:1px solid var(--border);font-size:.62rem}.tbl-r:last-child{border:none}
.tbl-r:hover{background:rgba(255,255,255,.01)}
.tbl-item{flex:1}.tbl-val{font-family:'Space Mono',monospace;color:var(--green);font-weight:600;min-width:90px;text-align:right}.tbl-note{color:var(--text-d);font-size:.55rem;min-width:80px;text-align:right}
.flow{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:.35rem;margin:.5rem 0}
.flow-box{background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:.45rem;text-align:center}
.flow-icon{font-size:1rem;margin-bottom:.15rem}
.flow-title{font-size:.55rem;font-weight:700;margin-bottom:.1rem}
.flow-desc{font-size:.48rem;color:var(--text-d);line-height:1.35}
.craft{background:var(--surface);border-radius:5px;padding:.5rem .6rem;margin-top:.4rem}
.craft-title{font-size:.52rem;font-weight:700;color:var(--cyan);margin-bottom:.3rem}
.craft-recipe{display:flex;flex-wrap:wrap;gap:.25rem;align-items:center;font-size:.55rem}
.craft-item{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:.12rem .35rem;font-family:'Space Mono',monospace;font-size:.5rem}
.craft-arrow{color:var(--amber);font-weight:700}
.craft-result{background:rgba(245,166,35,.1);border:1px solid rgba(245,166,35,.25);border-radius:3px;padding:.12rem .4rem;font-family:'Space Mono',monospace;font-size:.5rem;color:var(--amber);font-weight:600}
.tl{padding-left:1.5rem;position:relative}.tl::before{content:'';position:absolute;left:7px;top:0;bottom:0;width:2px;background:linear-gradient(var(--amber),var(--border))}
.ph{position:relative;margin-bottom:.6rem}
.ph-dot{position:absolute;left:-1.5rem;top:.55rem;width:16px;height:16px;border-radius:50%;border:2px solid var(--border);background:var(--bg);display:flex;align-items:center;justify-content:center;font-family:'Space Mono',monospace;font-size:.42rem;font-weight:700}
.ph.done .ph-dot{background:var(--green);border-color:var(--green);color:#000}
.ph-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:.65rem}
.ph-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:.15rem}
.ph-t{font-size:.72rem;font-weight:700}
.ph-time{font-family:'Space Mono',monospace;font-size:.46rem;color:var(--text-d);background:var(--surface);padding:.1em .35em;border-radius:3px}
.ph-goal{font-size:.58rem;color:var(--amber);font-weight:600;margin-bottom:.3rem}
.ph-text{font-size:.6rem;color:var(--text-m);line-height:1.45;margin-bottom:.4rem}
.pchk{display:flex;align-items:center;gap:.28rem;font-size:.56rem;color:var(--text-m);cursor:pointer;padding:.1rem 0;transition:.1s}.pchk:hover{color:var(--text)}.pchk.on{color:var(--text-d);text-decoration:line-through}
.pchk-box{width:12px;height:12px;border:1.5px solid var(--border-h);border-radius:3px;display:flex;align-items:center;justify-content:center;font-size:.4rem;flex-shrink:0}.pchk.on .pchk-box{background:var(--green);border-color:var(--green);color:#000}
.info{background:rgba(59,130,246,.05);border:1px solid rgba(59,130,246,.1);border-radius:6px;padding:.5rem .65rem;margin-bottom:.6rem}
.info p{font-size:.62rem;color:var(--text-m);line-height:1.5}
.info b{color:var(--blue)}
.warn-box{background:rgba(239,68,68,.05);border:1px solid rgba(239,68,68,.1);border-radius:6px;padding:.5rem .65rem;margin-bottom:.6rem}
.warn-box p{font-size:.62rem;color:var(--text-m);line-height:1.5}
.warn-box b{color:var(--red)}
.success-box{background:rgba(16,185,129,.05);border:1px solid rgba(16,185,129,.1);border-radius:6px;padding:.5rem .65rem;margin-bottom:.6rem}
.success-box p{font-size:.62rem;color:var(--text-m);line-height:1.5}
.success-box b{color:var(--green)}
.roles{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.5rem;margin:.6rem 0}
.role{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:.6rem}
.role-h{display:flex;align-items:center;gap:.3rem;margin-bottom:.3rem}
.role-h span{font-size:.9rem}
.role-h h4{font-size:.68rem;font-weight:700}
.role p{font-size:.58rem;color:var(--text-m);line-height:1.45}
.role-pros{margin-top:.35rem;padding-top:.35rem;border-top:1px solid var(--border)}
.role-pros b{font-size:.5rem;color:var(--green);display:block;margin-bottom:.2rem}
.role-pros span{font-size:.52rem;color:var(--text-m);display:block;line-height:1.4}
.toast{position:fixed;bottom:55px;left:50%;transform:translateX(-50%) translateY(15px);background:var(--green);color:#000;font-family:'Space Mono',monospace;font-size:.58rem;font-weight:700;padding:.35rem .8rem;border-radius:5px;opacity:0;transition:.25s;z-index:600}.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}.toast.err{background:var(--red);color:#fff}
.spinner{width:11px;height:11px;border:2px solid var(--text-d);border-top-color:var(--amber);border-radius:50%;animation:spin .5s linear infinite;display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}
.dot{width:5px;height:5px;border-radius:50%;background:var(--green);display:inline-block;margin-right:.15rem}
@media(max-width:600px){.app{padding:58px .7rem 3rem}.step-h{padding:.6rem}.nav-btn{padding:.55rem .5rem;font-size:.58rem}.roles{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="lo" id="lo">
<div class="lo-box">
<div class="lo-logo">ETARIA MASTERPLAN</div>
<input class="lo-input" id="le" placeholder="E-Mail">
<input class="lo-input" id="lp" type="password" placeholder="Passwort">
<button class="lo-btn" id="lb" onclick="login()">Anmelden</button>
<div class="lo-err" id="lerr"></div>
<div class="lo-guest" onclick="guest()">Als Gast ansehen â†’</div>
</div>
</div>
<div class="top" id="top" style="display:none">
<div style="display:flex;align-items:center">
<span class="top-logo">ETARIA</span>
<span class="top-badge" id="badge">ADMIN</span>
<span id="sync" style="margin-left:.35rem"></span>
</div>
<div class="top-r">
<button class="top-btn" id="ebtn" onclick="toggleEdit()">âœï¸ Edit</button>
<button class="top-btn" onclick="logout()">Logout</button>
</div>
</div>
<div class="edit-bar" id="ebar">
<span>âœï¸ EDIT MODE</span>
<button class="top-btn" onclick="toggleEdit()">Fertig</button>
</div>
<div class="toast" id="toast"></div>
<div class="app" id="app" style="display:none">
<header class="hero">
<h1>Etaria Masterplan</h1>
<p>Ãœberlebe die Endzeit. Allein oder mit deinem Clan.</p>
</header>
<nav class="nav">
<button class="nav-btn on" data-t="vision">ğŸ¯ Vision</button>
<button class="nav-btn" data-t="leitfaden">ğŸ“‹ Jetzt umsetzen</button>
<button class="nav-btn" data-t="systeme">âš™ï¸ Systeme</button>
<button class="nav-btn" data-t="preise">ğŸ’° Wirtschaft</button>
<button class="nav-btn" data-t="zukunft">ğŸ”® Zukunft</button>
<button class="nav-btn" data-t="reise">ğŸ—ºï¸ Spielerreise</button>
<button class="nav-btn" data-t="status">ğŸ“Š Status</button>
</nav>
<div class="prog">
<div class="prog-top">
<span>Fortschritt</span>
<span class="prog-pct" id="pct">0%</span>
</div>
<div class="prog-bar"><div class="prog-fill" id="fill"></div></div>
<div class="prog-info"><span id="pdone">0</span> / <span id="ptotal">0</span> erledigt</div>
</div>
<div id="root"></div>
</div>
<script>
firebase.initializeApp({apiKey:"AIzaSyD9VRhfeOiCT3hgPw1rSi59CM3IZpvd-c8",authDomain:"etaria-masterplan.firebaseapp.com",projectId:"etaria-masterplan"});
const auth=firebase.auth(),db=firebase.firestore(),el=id=>document.getElementById(id);
let user=null,admin=false,edit=false,tab='vision',S={done:{},checks:{},open:{},del:[]};

const VISION=`<div class="identity"><h3>ğŸŒ Etaria.net â€“ Post-Apokalypse Survival</h3><p>Die Welt ist am Ende. Zombies streifen durch die Ruinen. Ressourcen sind knapp. Vertrauen ist selten. Du musst Ã¼berleben â€“ allein oder mit deinem Clan.</p><p class="identity-subtitle">"Ãœberlebe die Endzeit. Allein oder mit deinem Clan."</p></div>
<div class="sec-title">ğŸ® Das Kern-Erlebnis</div><p class="sec-desc">Was soll ein Spieler fÃ¼hlen?</p>
<div class="flow"><div class="flow-box"><div class="flow-icon">ğŸ˜°</div><div class="flow-title">Spannung</div><div class="flow-desc">Jeder Gang nach drauÃŸen ist Risiko</div></div><div class="flow-box"><div class="flow-icon">ğŸ¯</div><div class="flow-title">Ziele</div><div class="flow-desc">Immer etwas zu erreichen</div></div><div class="flow-box"><div class="flow-icon">ğŸ¤</div><div class="flow-title">Interaktion</div><div class="flow-desc">Andere Spieler sind nÃ¶tig</div></div><div class="flow-box"><div class="flow-icon">ğŸ“–</div><div class="flow-title">Geschichten</div><div class="flow-desc">RivalitÃ¤ten und Allianzen</div></div></div>
<div class="sec-title" style="margin-top:1rem">ğŸ‘¤ Solo vs ğŸ‘¥ Clan</div><p class="sec-desc">Beide Spielweisen funktionieren.</p>
<div class="roles"><div class="role"><div class="role-h"><span>ğŸº</span><h4>Solo-Spieler</h4></div><p>Alles alleine. Langsamer, aber unabhÃ¤ngig.</p><div class="role-pros"><b>âœ“ Rollen:</b><span>â€¢ HÃ¤ndler â€“ Neutral, verkauft an alle</span><span>â€¢ KopfgeldjÃ¤ger â€“ Jagt Bounties</span><span>â€¢ Sammler â€“ Farmt Seltenes</span></div></div><div class="role"><div class="role-h"><span>âš”ï¸</span><h4>Clan-Spieler</h4></div><p>Zusammen stÃ¤rker. Einer farmt, einer baut, einer kÃ¤mpft.</p><div class="role-pros"><b>âœ“ Vorteile:</b><span>â€¢ Clan-Tresor mit Perks</span><span>â€¢ ÃœberfÃ¤lle auf andere</span><span>â€¢ Gegenseitiger Schutz</span></div></div></div>
<div class="sec-title" style="margin-top:1rem">ğŸ“ˆ Spieler-Fortschritt</div>
<div class="flow"><div class="flow-box"><div class="flow-icon">1ï¸âƒ£</div><div class="flow-title">Ãœberleben</div><div class="flow-desc">Tag 1-3</div></div><div class="flow-box"><div class="flow-icon">2ï¸âƒ£</div><div class="flow-title">Wachsen</div><div class="flow-desc">Tag 3-7</div></div><div class="flow-box"><div class="flow-icon">3ï¸âƒ£</div><div class="flow-title">Spezialisieren</div><div class="flow-desc">Woche 2</div></div><div class="flow-box"><div class="flow-icon">4ï¸âƒ£</div><div class="flow-title">Dominieren</div><div class="flow-desc">Woche 3+</div></div></div>
<div class="sec-title" style="margin-top:1rem">â“ TÃ¤gliche Login-GrÃ¼nde</div>
<div class="flow"><div class="flow-box"><div class="flow-icon">ğŸ”¥</div><div class="flow-title">Daily Streak</div><div class="flow-desc">Belohnung sichern</div></div><div class="flow-box"><div class="flow-icon">ğŸ•¶ï¸</div><div class="flow-title">Schwarzmarkt</div><div class="flow-desc">Wechselt alle 4h</div></div><div class="flow-box"><div class="flow-icon">ğŸ“¦</div><div class="flow-title">Airdrops</div><div class="flow-desc">Spontane Events</div></div><div class="flow-box"><div class="flow-icon">ğŸ¦</div><div class="flow-title">Clan-Tresor</div><div class="flow-desc">SchÃ¼tzen</div></div></div>`;

const LEIT=[
{id:"l1",n:1,p:"krit",t:"Starthaus-Plugin deaktivieren",c:"Server Â· Sofort",why:"Das Starthaus spaltet deinen Server. Spieler haben keinen Grund in die Survival-Welt zu gehen.",todo:["Server stoppen","starthaus-1.0.jar umbenennen zu .disabled","Server starten","Testen: Neuer Spieler spawnt in Survival"],connect:"Ohne Starthaus MÃœSSEN Spieler raus â†’ brauchen Claims â†’ brauchen Geld â†’ Jobs â†’ treffen andere.",note:null},
{id:"l2",n:2,p:"krit",t:"Munitions-Beschaffung",c:"Wirtschaft Â· Sofort",why:"21 Waffen aber keine Muni fÃ¼r Spieler. Bei 200-300$/h mÃ¼ssen Preise gÃ¼nstig sein.",todo:["NPC MunitionshÃ¤ndler am Spawn","Pistole 0.50$, SMG 1$, Gewehr 2$, Sniper 5$, RPG 25$","Alternativ: Muni als Zombie-Drop 5-10%"],connect:"Muni kostet â†’ Jobs wichtig â†’ KÃ¤mpfen kostet â†’ PvP taktisch.",note:null},
{id:"l3",n:3,p:"krit",t:"Kill-Belohnungen",c:"PvP Â· Sofort",why:"PvP ist Griefing. Killer gewinnt nichts.",todo:["Kill = 20% vom Bargeld des Opfers","Nur wenn Opfer 50$+ hat","Anti-Abuse: 2h Cooldown gleicher Spieler","Kill-Nachricht im Chat"],connect:"Kills lohnen â†’ Spieler mit Geld = Ziele â†’ Clans bieten Schutz.",note:"Bei Full-Loot droppt Inventar eh. Kill-Reward ist BARGELD."},
{id:"l4",n:4,p:"krit",t:"Waffen-Reparatur",c:"Wirtschaft Â· Sofort",why:"Waffen gehen kaputt, keine Reparatur = Frust.",todo:["Reparatur-Kits craftbar","Klein: 8 Eisen + 50$","Mittel: 15 Eisen + 3 Gold + 100$","GroÃŸ: 25 Eisen + 8 Gold + 250$","NPC verkauft zum doppelten Preis"],connect:"Reparatur braucht Erze â†’ Bergarbeiter wichtig â†’ Handel entsteht.",note:null},
{id:"l5",n:5,p:"hoch",t:"Daily Login Streak",c:"Retention Â· Woche 1",why:"Spieler brauchen tÃ¤glichen Login-Grund.",todo:["Tag 1: 25$","Tag 3: 75$ + 5 Muni","Tag 7: 150$ + Rep-Kit","Tag 14: 300$ + 20 Muni","Tag 30: 500$ + mittleres Kit","Danach: Wiederholt ab Tag 7"],connect:"TÃ¤glicher Login â†’ sieht wer online ist â†’ Interaktion.",note:null},
{id:"l6",n:6,p:"hoch",t:"Airdrops",c:"Events Â· Woche 1",why:"Bringt Spieler zusammen ohne feste Zeiten.",todo:["2 Spieler: alle 4-5h","3-4 Spieler: alle 2-3h","5+ Spieler: hÃ¤ufiger + besser","Inhalt: 100-300$, 2-3 Mags, 50% Kit","3 Min Vorwarnung","5-10 Zombies am Drop"],connect:"Airdrops â†’ Spieler treffen sich â†’ PvP oder Kooperation.",note:null},
{id:"l7",n:7,p:"hoch",t:"Schwarzmarkt-NPC",c:"Wirtschaft Â· Woche 1",why:"Wechselndes Angebot = FOMO, mehrmals tÃ¤glich einloggen.",todo:["NPC versteckt oder nur nachts","Wechselt alle 4 Stunden","4-6 Items, 200-800$","Timer sichtbar","Bei Login: 'Du hast X verpasst!'"],connect:"RegelmÃ¤ÃŸiges Checken â†’ mehr Online-Zeit â†’ mehr Interaktion.",note:null},
{id:"l8",n:8,p:"hoch",t:"Clan-Tresor mit Perks",c:"Clans Â· Woche 1",why:"Clans brauchen echten Zweck.",todo:["Automatisch 30$/Tag pro aktivem Mitglied","Niemand zahlt manuell ein","PERKS: Ab 500$ = +5% Job-XP","Ab 1000$ = -10% Claim-Wartung","Ab 2000$ = +5% Loot-Chance","Tresor leer = keine Perks"],connect:"Perks â†’ Spieler WOLLEN im Clan â†’ mehr Mitglieder â†’ mehr Geld â†’ bessere Perks.",note:null},
{id:"l9",n:9,p:"med",t:"Clan-Tresor ÃœberfÃ¤lle",c:"Clans Â· Woche 2",why:"Clan-RivalitÃ¤t, Grund online zu sein.",todo:["Nur wenn <2 Mitglieder online","30 Sek Hacken, Alarm an alle","Erfolg: 40% vom Tresor","48h Cooldown pro Clan"],connect:"ÃœberfÃ¤lle â†’ 'MÃ¼ssen online sein!' â†’ mehr AktivitÃ¤t â†’ RivalitÃ¤t.",note:null},
{id:"l10",n:10,p:"med",t:"Bounty-System",c:"PvP Â· Woche 2",why:"Spieler-getriebenes PvP, Jagd-Gameplay.",todo:["/bounty set [spieler] [betrag] min 100$","Kopfgelder stapeln","Ab 500$: Broadcast alle 30 Min","Killer erhÃ¤lt 70%, 30% Server","VerfÃ¤llt nach 7 Tagen (50% zurÃ¼ck)"],connect:"Bounty â†’ Jagd â†’ Schutz nÃ¶tig â†’ Clan wichtiger.",note:"Anti-Abuse: Keine Clan-Bounties, 7-Tage-Sperre nach Clan-Wechsel, 3+ Kills/Woche = Freunde erkannt."},
{id:"l11",n:11,p:"med",t:"Claim-Wartungskosten",c:"Wirtschaft Â· Woche 2",why:"Inaktive blockieren Land. Code existiert bereits!",todo:["Chunk 1-3: 5$/Tag","Chunk 4+: 10$/Tag","Premium: 50% Rabatt","7 Tage Schonfrist","Bei Login: 'Claims kosten X$/Tag'"],connect:"Wartung â†’ muss farmen â†’ bleibt aktiv â†’ trifft andere.",note:null},
{id:"l12",n:12,p:"med",t:"Drogen-Konsum Buffs",c:"Content Â· Woche 2",why:"Cannabis ohne Effekt = langweilig.",todo:["Standard: Speed I + StÃ¤rke I (45s)","Premium (mit DÃ¼nger): Speed II + StÃ¤rke I + Resistenz I (60s)","10 Min Cooldown","Nach Buff: 20s Slowness (Crash)"],connect:"Drogen fÃ¼r PvP â†’ behalten statt verkaufen â†’ DÃ¼nger wichtig â†’ Jobs verbunden.",note:null},
{id:"l13",n:13,p:"low",t:"Neuer-Spieler-Schutz",c:"Balancing Â· Woche 3",why:"Sofort gekillt = Ragequit.",todo:["2h PvP-Schutz (kann nicht angreifen UND nicht angegriffen werden)","Tag Ã¼ber Kopf: [NEU]","Nach 2h oder erstem Angriff: Ende"],connect:"Neulinge Ã¼berleben â†’ lernen â†’ bleiben.",note:null},
{id:"l14",n:14,p:"low",t:"Auktionshaus",c:"Wirtschaft Â· Woche 3",why:"Direkter Handel ist umstÃ¤ndlich.",todo:["/ah sell [preis]","/ah GUI Ã¶ffnen","Offline-Handel mÃ¶glich","5% GebÃ¼hr (Gold-Sink)"],connect:"Auktionshaus â†’ Handel ohne online sein â†’ Solo-HÃ¤ndler mÃ¶glich.",note:null}
];

const SYSTEME=[
{id:"sys1",icon:"ğŸ’°",title:"Geld-Kreislauf",desc:"Einnahmen und Ausgaben",content:`<div class="info"><p><b>Einnahmen:</b> Jobs (200-300$/h), PvP Kills (20% Bargeld), Airdrops</p></div><div class="warn-box"><p><b>Ausgaben:</b> Muni, Reparatur, Claim-Wartung, Schwarzmarkt, Bounty</p></div>`},
{id:"sys2",icon:"âš’ï¸",title:"Job-AbhÃ¤ngigkeiten",desc:"Spieler brauchen sich",content:`<div class="flow"><div class="flow-box"><div class="flow-icon">â›ï¸</div><div class="flow-title">Bergarbeiter</div><div class="flow-desc">Eisen, Gold, Redstone fÃ¼r Reparatur</div></div><div class="flow-box"><div class="flow-icon">ğŸª“</div><div class="flow-title">HolzfÃ¤ller</div><div class="flow-desc">Holz fÃ¼r Kessel, Gestelle</div></div><div class="flow-box"><div class="flow-icon">ğŸ£</div><div class="flow-title">Fischer</div><div class="flow-desc">Algen fÃ¼r DÃ¼nger</div></div></div>`},
{id:"sys3",icon:"âš”ï¸",title:"Clan-System",desc:"Tresor + Perks + ÃœberfÃ¤lle",content:`<div class="success-box"><p><b>Tresor:</b> 30$/Tag pro aktivem Mitglied (automatisch)</p></div><div class="info"><p><b>Perks:</b> Ab 500$ +5% Job-XP, Ab 1000$ -10% Claim-Wartung, Ab 2000$ +5% Loot</p></div><div class="warn-box"><p><b>ÃœberfÃ¤lle:</b> MÃ¶glich wenn weniger als 2 online. 40% Beute, 48h Cooldown.</p></div>`},
{id:"sys4",icon:"ğŸ’€",title:"PvP-System",desc:"Kosten + Belohnungen",content:`<div class="flow"><div class="flow-box"><div class="flow-icon">ğŸ’°</div><div class="flow-title">Kill = 20%</div><div class="flow-desc">Vom Bargeld des Opfers</div></div><div class="flow-box"><div class="flow-icon">ğŸ”«</div><div class="flow-title">Muni-Kosten</div><div class="flow-desc">Jeder Schuss kostet</div></div><div class="flow-box"><div class="flow-icon">ğŸ¯</div><div class="flow-title">Bounty</div><div class="flow-desc">70% an Killer</div></div></div><p style="font-size:.55rem;color:var(--text-d);margin-top:.3rem">Anti-Abuse: 2h Cooldown, Clan-Sperre, Freunde-Erkennung</p>`},
{id:"sys5",icon:"ğŸŒ¿",title:"Drogen-System",desc:"Anbau + Konsum",content:`<div class="craft"><div class="craft-title">Standard-Cannabis</div><div class="craft-recipe"><span class="craft-result">Speed I + StÃ¤rke I (45s)</span></div></div><div class="craft"><div class="craft-title">Premium (mit DÃ¼nger)</div><div class="craft-recipe"><span class="craft-result">Speed II + StÃ¤rke I + Resistenz I (60s)</span></div></div><p style="font-size:.55rem;color:var(--text-d);margin-top:.3rem">10 Min Cooldown. Nach Buff: 20s Slowness (Crash).</p>`},
{id:"sys6",icon:"ğŸº",title:"Solo-Spieler",desc:"Rollen ohne Clan",content:`<div class="roles" style="margin-top:.4rem"><div class="role"><div class="role-h"><span>ğŸ’¼</span><h4>HÃ¤ndler</h4></div><p>Neutral, handelt mit allen. Auktionshaus.</p></div><div class="role"><div class="role-h"><span>ğŸ¯</span><h4>KopfgeldjÃ¤ger</h4></div><p>Jagt Bounties. Hohes Risiko, hohe Belohnung.</p></div></div>`}
];

const PREISE={
muni:{t:"ğŸ”« Munition",n:"Shop",i:[{a:"Pistole (30)",b:"0.50$",c:""},{a:"SMG (40)",b:"1.00$",c:""},{a:"Gewehr (30)",b:"2.00$",c:""},{a:"Sniper (8)",b:"5.00$",c:""},{a:"RPG (1)",b:"25.00$",c:""}]},
rep:{t:"ğŸ”§ Reparatur",n:"Crafting/NPC",i:[{a:"Klein â€“ Craft",b:"8 Eisen + 50$",c:""},{a:"Klein â€“ NPC",b:"100$",c:""},{a:"Mittel â€“ Craft",b:"15 Eisen + 3 Gold + 100$",c:""},{a:"GroÃŸ â€“ Craft",b:"25 Eisen + 8 Gold + 250$",c:""}]},
daily:{t:"ğŸ”¥ Daily Streak",n:"Login",i:[{a:"Tag 1",b:"25$",c:""},{a:"Tag 7",b:"150$ + Kit",c:""},{a:"Tag 30",b:"500$ + Kit",c:""}]},
clan:{t:"âš”ï¸ Clan",n:"Automatisch",i:[{a:"Tresor/Tag",b:"30$ pro Mitglied",c:""},{a:"Perk ab 500$",b:"+5% Job-XP",c:""},{a:"Perk ab 1000$",b:"-10% Wartung",c:""},{a:"Ãœberfall-Beute",b:"40%",c:""}]}
};

const ZUKUNFT=[
{id:"z1",icon:"ğŸ”©",title:"Waffenteile-Crafting",prio:"Hoch",desc:"Waffen aus Teilen statt nur Crates.",details:`<div class="flow"><div class="flow-box"><div class="flow-icon">ğŸ”©</div><div class="flow-title">Lauf</div><div class="flow-desc">Elite-Zombies</div></div><div class="flow-box"><div class="flow-icon">ğŸªµ</div><div class="flow-title">Griff</div><div class="flow-desc">HolzfÃ¤ller</div></div><div class="flow-box"><div class="flow-icon">âš™ï¸</div><div class="flow-title">Mechanik</div><div class="flow-desc">Bergarbeiter</div></div></div>`},
{id:"z2",icon:"ğŸ‘¹",title:"Boss-System",prio:"Mittel",desc:"WÃ¶chentliche Bosse mit Loot.",details:`<p style="font-size:.6rem;color:var(--text-m)">Zombie-KÃ¶nig Sonntag 20 Uhr. 3-5 Spieler nÃ¶tig. Loot: Waffenteile, 500-1000$.</p>`},
{id:"z3",icon:"ğŸ¦",title:"BankÃ¼berfall",prio:"Mittel",desc:"GroÃŸes Clan-Event.",details:`<p style="font-size:.6rem;color:var(--text-m)">500$ GebÃ¼hr, 5 Min verteidigen, 2000-5000$ Beute. 24h Cooldown.</p>`}
];

const STATUS=[
{e:"âš’ï¸",t:"Jobs",s:"ok",d:"3 Jobs funktionieren.",tags:["ok:3 Jobs","warn:Keine AbhÃ¤ngigkeit"]},
{e:"ğŸ”«",t:"Waffen",s:"bad",d:"21 Waffen, keine Muni!",tags:["ok:21 Waffen","bad:Keine Muni"]},
{e:"ğŸŒ¿",t:"Cannabis",s:"warn",d:"Anbau ok, kein Konsum.",tags:["ok:Anbau","warn:Kein Buff"]},
{e:"âš”ï¸",t:"Clans",s:"warn",d:"Existiert, keine Perks.",tags:["ok:Clan-Bank","warn:Keine Perks"]},
{e:"ğŸ’€",t:"PvP",s:"bad",d:"Kein Kill-Reward.",tags:["bad:Kein Reward"]}
];

const REISE=[
{n:1,t:"Ankunft",ti:"0-30 Min",g:"Ãœberleben, erste Waffe",tx:"Spawnt in Survival. Starter-Kit. Erste Zombies.",ck:[{t:"Spawnt in Survival",k:"r1a"},{t:"Kann Muni kaufen",k:"r1b"}]},
{n:2,t:"Aufbau",ti:"Tag 1-3",g:"Base, Job, Geld",tx:"Claim, Base, Job leveln, Cannabis.",ck:[{t:"Claim funktioniert",k:"r2a"},{t:"200-300$/h mÃ¶glich",k:"r2b"}]},
{n:3,t:"Etablierung",ti:"Tag 3-7",g:"Clan/Solo-Rolle",tx:"KRITISCH! Braucht Airdrops, Schwarzmarkt.",ck:[{t:"Airdrops aktiv",k:"r3a"},{t:"Clan-Perks motivieren",k:"r3b"}]},
{n:4,t:"Langzeit",ti:"Woche 2+",g:"RivalitÃ¤ten",tx:"Kill-Rewards, Bounty, Tresor-KÃ¤mpfe.",ck:[{t:"Kill-Rewards aktiv",k:"r4a"},{t:"Bounty lÃ¤uft",k:"r4b"}]}
];

function login(){const b=el('lb');b.disabled=true;b.innerHTML='<span class="spinner"></span>';el('lerr').textContent='';auth.signInWithEmailAndPassword(el('le').value,el('lp').value).catch(e=>{el('lerr').textContent='Fehler';b.disabled=false;b.textContent='Anmelden'});}
function guest(){user='Gast';admin=false;enter();}
function logout(){auth.signOut();location.reload();}
auth.onAuthStateChanged(u=>{if(u){user=u.email.split('@')[0];admin=true;enter();}});
function enter(){el('lo').classList.add('h');el('app').style.display='block';el('top').style.display='flex';el('badge').textContent=admin?'ADMIN':'GAST';el('badge').className='top-badge '+(admin?'admin':'guest');el('ebtn').style.display=admin?'inline':'none';load();}
async function load(){el('sync').innerHTML='<span class="spinner"></span>';try{const d=await db.collection('mp3').doc('state').get();if(d.exists)S={done:{},checks:{},open:{},del:[],...d.data()};el('sync').innerHTML='<span class="dot"></span>';}catch(e){el('sync').innerHTML='âš ï¸';}render();}
async function save(){try{await db.collection('mp3').doc('state').set(S);}catch(e){}}
db.collection('mp3').doc('state').onSnapshot(d=>{if(d.exists){S={done:{},checks:{},open:{},del:[],...d.data()};render();}});
function toggleEdit(){edit=!edit;document.body.classList.toggle('edit',edit);el('ebar').classList.toggle('show',edit);el('ebtn').textContent=edit?'ğŸ‘ï¸':'âœï¸ Edit';}
function toast(m){const t=el('toast');t.textContent=m;t.className='toast show';setTimeout(()=>t.className='toast',1800);}

function render(){
const r=el('root');
r.innerHTML=rVis()+rLeit()+rSys()+rPreis()+rZuk()+rReise()+rStat();
document.querySelectorAll('.sec').forEach(s=>s.classList.toggle('on',s.dataset.s===tab));
prog();bindEv();
}

function rVis(){return '<div class="sec on" data-s="vision">'+VISION+'</div>';}

function rLeit(){
const items=LEIT.filter(l=>!S.del.includes(l.id));
let h='<div class="sec" data-s="leitfaden"><div class="sec-title">ğŸ“‹ Jetzt umsetzen</div><p class="sec-desc">Kritisch (rot) â†’ Hoch (orange) â†’ Mittel (blau) â†’ Niedrig (grau)</p>';
items.forEach(l=>{
const done=S.done[l.id],open=S.open[l.id];
h+=`<div class="step${done?' done':''}" data-id="${l.id}"><div class="step-h"><div class="step-n ${l.p}">${done?'âœ“':l.n}</div><div class="step-info"><div class="step-t">${l.t}</div><div class="step-c">${l.c}</div></div><div class="step-chk${done?' on':''}" data-done="${l.id}">${done?'âœ“':''}</div><button class="step-del" data-del="${l.id}">âœ•</button><span class="step-arr">${open?'â–²':'â–¼'}</span></div><div class="step-body${open?' open':''}"><div class="step-content"><div class="step-why"><b>âš ï¸ WARUM?</b><p>${l.why}</p></div><div class="step-todo"><b>âœ… TO-DO</b>${l.todo.map(t=>'<div class="todo-i">'+t+'</div>').join('')}</div>${l.connect?'<div class="step-connect"><b>ğŸ”— VERBINDUNG</b><p>'+l.connect+'</p></div>':''}${l.note?'<div class="step-note"><b>ğŸ’¡ HINWEIS</b><p>'+l.note+'</p></div>':''}</div></div></div>`;
});
return h+'</div>';
}

function rSys(){
let h='<div class="sec" data-s="systeme"><div class="sec-title">âš™ï¸ Systeme</div><p class="sec-desc">Wie alles zusammenhÃ¤ngt</p>';
SYSTEME.forEach(s=>{h+=`<div class="card"><div class="card-h"><span>${s.icon}</span><h4>${s.title}</h4></div><p>${s.desc}</p>${s.content}</div>`;});
return h+'</div>';
}

function rPreis(){
let h='<div class="sec" data-s="preise"><div class="sec-title">ğŸ’° Wirtschaft</div><p class="sec-desc">Alle Preise</p>';
Object.values(PREISE).forEach(p=>{h+=`<div class="tbl"><div class="tbl-h"><span>${p.t}</span><span>${p.n}</span></div>${p.i.map(i=>'<div class="tbl-r"><span class="tbl-item">'+i.a+'</span><span class="tbl-val">'+i.b+'</span><span class="tbl-note">'+i.c+'</span></div>').join('')}</div>`;});
return h+'</div>';
}

function rZuk(){
let h='<div class="sec" data-s="zukunft"><div class="sec-title">ğŸ”® Zukunft</div><p class="sec-desc">Nach den Basics</p>';
ZUKUNFT.forEach(z=>{h+=`<div class="card"><div class="card-h"><span>${z.icon}</span><h4>${z.title}</h4><span class="badge warn">${z.prio}</span></div><p>${z.desc}</p>${z.details}</div>`;});
return h+'</div>';
}

function rReise(){
let h='<div class="sec" data-s="reise"><div class="sec-title">ğŸ—ºï¸ Spielerreise</div><div class="tl">';
REISE.forEach(p=>{
const allDone=p.ck.every(c=>S.checks[c.k]);
h+=`<div class="ph${allDone?' done':''}"><div class="ph-dot">${allDone?'âœ“':p.n}</div><div class="ph-card"><div class="ph-top"><span class="ph-t">${p.t}</span><span class="ph-time">${p.ti}</span></div><div class="ph-goal">ğŸ¯ ${p.g}</div><div class="ph-text">${p.tx}</div>${p.ck.map(c=>'<label class="pchk'+(S.checks[c.k]?' on':'')+'" data-ck="'+c.k+'"><span class="pchk-box">'+(S.checks[c.k]?'âœ“':'')+'</span>'+c.t+'</label>').join('')}</div></div>`;
});
return h+'</div></div>';
}

function rStat(){
let h='<div class="sec" data-s="status"><div class="sec-title">ğŸ“Š Status</div>';
STATUS.forEach(s=>{
const badge=s.s==='ok'?'<span class="badge ok">âœ“</span>':s.s==='warn'?'<span class="badge warn">â—</span>':'<span class="badge bad">âœ—</span>';
h+=`<div class="card"><div class="card-h"><span>${s.e}</span><h4>${s.t}</h4>${badge}</div><p>${s.d}</p><div class="tags">${s.tags.map(t=>'<span class="tag '+(t.startsWith('ok')?'ok':t.startsWith('bad')?'bad':'')+'">'+t.replace('ok:','âœ“ ').replace('warn:','â— ').replace('bad:','âœ— ')+'</span>').join('')}</div></div>`;
});
return h+'</div>';
}

function bindEv(){
document.querySelectorAll('.step-h').forEach(h=>{
h.onclick=e=>{
if(e.target.classList.contains('step-chk')||e.target.classList.contains('step-del'))return;
const id=h.parentElement.dataset.id,body=h.nextElementSibling;
body.classList.toggle('open');
h.querySelector('.step-arr').textContent=body.classList.contains('open')?'â–²':'â–¼';
if(admin){S.open[id]=body.classList.contains('open');save();}
};
});
document.querySelectorAll('.step-chk').forEach(c=>{
c.onclick=e=>{e.stopPropagation();if(!admin)return;S.done[c.dataset.done]=!S.done[c.dataset.done];save();toast(S.done[c.dataset.done]?'âœ“ Erledigt':'ZurÃ¼ckgesetzt');};
});
document.querySelectorAll('.step-del').forEach(d=>{
d.onclick=e=>{e.stopPropagation();if(!admin||!confirm('LÃ¶schen?'))return;S.del.push(d.dataset.del);save();toast('GelÃ¶scht');};
});
document.querySelectorAll('.pchk').forEach(c=>{
c.onclick=()=>{if(!admin)return;S.checks[c.dataset.ck]=!S.checks[c.dataset.ck];save();};
});
document.querySelectorAll('.nav-btn').forEach(b=>{
b.onclick=()=>{tab=b.dataset.t;document.querySelectorAll('.nav-btn').forEach(x=>x.classList.remove('on'));b.classList.add('on');document.querySelectorAll('.sec').forEach(s=>s.classList.toggle('on',s.dataset.s===tab));};
});
}

function prog(){
const steps=LEIT.filter(l=>!S.del.includes(l.id));
const checks=REISE.reduce((a,p)=>a+p.ck.length,0);
const total=steps.length+checks;
const doneS=steps.filter(s=>S.done[s.id]).length;
const doneC=Object.keys(S.checks).filter(k=>S.checks[k]).length;
const done=doneS+doneC;
const pct=total?Math.round(done/total*100):0;
el('pct').textContent=pct+'%';
el('fill').style.width=pct+'%';
el('pdone').textContent=done;
el('ptotal').textContent=total;
}

el('lp').onkeydown=e=>{if(e.key==='Enter')login();};
render();
</script>
</body>
</html>
